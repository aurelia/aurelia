# AUR6001: Invalid virtual repeat calculation state

## Error Message

`AUR6001: Invalid calculation state. Virtual repeater has no items.`

## Description

This error occurs when the virtual repeater tries to perform a measurement/render calculation that requires an items collection, but the collection is missing (null/undefined) or empty at a time when the strategy expects at least one item.

## Example Trigger

```ts
export class MyList {
  // ❌ items is undefined initially
  items: unknown[];
}
```

```html
<template>
  <div virtual-repeat.for="item of items">${item}</div>
</template>
```

## Correct Usage

- Initialize the collection (`items = []`) and then replace it when data arrives.
- If the list is conditional, guard it with `if.bind` until data is ready.

```ts
export class MyList {
  // ✅ always an array
  items: unknown[] = [];
}
```

```html
<template>
  <div if.bind="items.length">
    <div virtual-repeat.for="item of items">${item}</div>
  </div>
</template>
```

## Troubleshooting

- Verify the collection expression resolves to an `Array` (or a supported collection type for your setup).
- If the collection is async-loaded, ensure it’s initialized before the template is rendered.

